(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cbc0d9e"],{"0c38":function(e,t,a){"use strict";a("17c2d")},"17c2d":function(e,t,a){},"365f":function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return l}));var r=a("b775");function u(e){return Object(r["a"])({url:"/carsRepair/addCarsRepair",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/carsRepair/deleteCarsRepair/"+e,method:"get",params:e})}function s(e){return Object(r["a"])({url:"carsRepair/updateCarsRepair",method:"post",data:e})}function c(e){return Object(r["a"])({url:"carsRepair/select/"+e,method:"get",params:e})}function n(e){return Object(r["a"])({url:"carsRepair/allCarsRepairs",method:"get",params:e})}function o(e){return Object(r["a"])({url:"carsRepair/detailsByCarsRepairNumber/"+e,method:"get",params:e})}function d(){return Object(r["a"])({url:"carsRepair/selectCarNumbers",method:"get"})}function l(e,t){return Object(r["a"])({url:"carsRepair/statusOperate",method:"get",params:{carsRepairNumber:e,status:t}})}},"5ef4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("div",{staticClass:"create-body"},[a("el-form",{ref:"advices_form",staticClass:"demo-ruleForm",attrs:{"label-width":"auto",rules:e.form_rules,model:e.request_body}},[a("el-form-item",{attrs:{label:"车牌号",prop:"advicesType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:""},model:{value:e.request_body.carNumber,callback:function(t){e.$set(e.request_body,"carNumber",t)},expression:"request_body.carNumber"}},e._l(e.carNumberList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型",prop:"advicesType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:""},model:{value:e.request_body.advicesType,callback:function(t){e.$set(e.request_body,"advicesType",t)},expression:"request_body.advicesType"}},e._l(e.metaDataList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备名称",prop:"advicesName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备名称"},model:{value:e.request_body.advicesName,callback:function(t){e.$set(e.request_body,"advicesName",t)},expression:"request_body.advicesName"}})],1),a("el-form-item",{attrs:{label:"设备编号",prop:"advicesNumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备编号"},model:{value:e.request_body.advicesNumber,callback:function(t){e.$set(e.request_body,"advicesNumber",t)},expression:"request_body.advicesNumber"}})],1),a("el-form-item",{attrs:{label:"设备数量",prop:"advicesQuantity"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备数量"},on:{input:e.advicesFullAmount},model:{value:e.request_body.advicesQuantity,callback:function(t){e.$set(e.request_body,"advicesQuantity",e._n(t))},expression:"request_body.advicesQuantity"}})],1),a("el-form-item",{attrs:{label:"设备单价金额",prop:"advicesPriceAmount"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备单价金额"},on:{input:e.advicesFullAmount},model:{value:e.request_body.advicesPriceAmount,callback:function(t){e.$set(e.request_body,"advicesPriceAmount",t)},expression:"request_body.advicesPriceAmount"}})],1),a("el-form-item",{attrs:{label:"设备总金额",prop:"advicesFullAmount"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备总金额"},model:{value:e.request_body.advicesFullAmount,callback:function(t){e.$set(e.request_body,"advicesFullAmount",t)},expression:"request_body.advicesFullAmount"}})],1),a("div",[a("el-form-item",[e.createStatus?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.updateAdvice}},[e._v("立即保存")]),a("el-button",{on:{click:e.backHistory}},[e._v("返回")])],1)],1)],1)],1)])},u=[],i=(a("ac1f"),a("00b4"),a("a2b9")),s=a("f598"),c=a("365f"),n=(a("ed08"),{name:"AddAdvices",data:function(){var e=function(e,t,a){t.length>10?a(new Error("长度在 0 到 10 个字符")):setTimeout((function(){!/^\d+[.]?\d{0,2}$/.test(t)&&t?a(new Error("请输入正整数或小数保留两位小数")):a()}),500)};return{metaDataType:"ADVICE_TYPE",metaDataList:[],carNumberList:[],createStatus:!0,form_rules:{carNumber:[{required:!0,message:"车牌号不能为空",trigger:"blur"}],advicesType:[{required:!0,message:"设备类型不能为空",trigger:"blur"}],advicesName:[{required:!0,message:"设备名称不能为空",trigger:"change"}],advicesQuantity:[{type:"number",required:!0,message:"设备数量不能为空且为整数",trigger:"change"}],advicesPriceAmount:[{validator:e,trigger:"blur"},{required:!0,message:"设备单价金额不能为空"}]},request_body:{carNumber:null,advicesType:null,advicesName:null,advicesNumber:null,advicesQuantity:null,advicesPriceAmount:null,advicesFullAmount:null}}},mounted:function(){var e=this,t=this.$route.query;t.carsRepairNumber&&(this.createStatus=!1,Object(s["d"])(t.carsRepairNumber).then((function(t){e.request_body=t.data}))),Object(i["a"])(this.metaDataType).then((function(t){e.metaDataList=t.data})),Object(c["f"])().then((function(t){e.carNumberList=t.data}))},methods:{advicesFullAmount:function(){this.request_body.advicesFullAmount=this.request_body.advicesQuantity*this.request_body.advicesPriceAmount},updateAdvice:function(){var e=this;this.$refs["advices_form"].validate((function(t){t&&Object(s["e"])(e.request_body).then((function(t){e.$router.push("/advice/allAdvices"),e.$notify({title:"成功",message:"更新成功",type:"success"})}))}))},addAdvice:function(){var e=this;this.$refs["advices_form"].validate((function(t){t&&Object(s["a"])(e.request_body).then((function(t){var a=t.success;!0===a?(e.$router.push("/advice/allAdvices"),e.$notify({title:"成功",message:"创建成功",type:"success"})):e.$alert(e.message["data"],"创建失败",{confirmButtonText:"确定"})}))}))},backHistory:function(){this.$router.go(-1)}}}),o=n,d=(a("0c38"),a("2877")),l=Object(d["a"])(o,r,u,!1,null,"67913382",null);t["default"]=l.exports},a2b9:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a("b775");function u(e){return Object(r["a"])({url:"/metadata/select/"+e,method:"get",params:e})}},ed08:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("53ca"),a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("2c3e"),a("25f0"),a("d3b7"),a("4d90"),a("a15b"),a("d81d"),a("b64b"),a("1276"),a("159b"),a("fb6a"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("466d");function r(){var e=+new Date+"",t=parseInt(65536*(1+Math.random()))+"";return(+(t+e)).toString(32)}},f598:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return n}));var r=a("b775");function u(e){return Object(r["a"])({url:"/advice/addAdvices",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/advice/deleteAdvice/"+e,method:"get",params:e})}function s(e){return Object(r["a"])({url:"advice/updateAdvice",method:"post",data:e})}function c(e){return Object(r["a"])({url:"advice/selectByCarsRepairNumber/"+e,method:"get",params:e})}function n(e){return Object(r["a"])({url:"advice/allAdvices",method:"get",params:e})}}}]);