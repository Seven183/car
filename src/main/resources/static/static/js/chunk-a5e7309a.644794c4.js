(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5e7309a"],{"12d6":function(e,t,r){},"365f":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"h",(function(){return n})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return o})),r.d(t,"g",(function(){return d}));var a=r("b775");function s(e){return Object(a["a"])({url:"/carsRepair/addCarsRepair",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/carsRepair/deleteCarsRepair/"+e,method:"get",params:e})}function n(e){return Object(a["a"])({url:"carsRepair/updateCarsRepair",method:"post",data:e})}function l(e){return Object(a["a"])({url:"carsRepair/select/"+e,method:"get",params:e})}function i(e){return Object(a["a"])({url:"carsRepair/allCarsRepairs",method:"get",params:e})}function c(e){return Object(a["a"])({url:"carsRepair/detailsByCarsRepairNumber/"+e,method:"get",params:e})}function o(){return Object(a["a"])({url:"carsRepair/selectCarNumbers",method:"get"})}function d(e,t){return Object(a["a"])({url:"carsRepair/statusOperate",method:"get",params:{carsRepairNumber:e,status:t}})}},"91f1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create"},[r("div",{staticClass:"create-body"},[r("el-form",{ref:"driver_form",staticClass:"demo-ruleForm",attrs:{"label-width":"200px",rules:e.form_rules,model:e.request_body}},[r("el-form-item",{attrs:{label:"姓名",prop:"driverName"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入姓名"},model:{value:e.request_body.userName,callback:function(t){e.$set(e.request_body,"userName",t)},expression:"request_body.userName"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:"",placeholder:"请输入性别"},model:{value:e.request_body.sex,callback:function(t){e.$set(e.request_body,"sex",t)},expression:"request_body.sex"}},e._l(e.sexMetaDataList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入年龄"},model:{value:e.request_body.age,callback:function(t){e.$set(e.request_body,"age",e._n(t))},expression:"request_body.age"}})],1),r("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入电话或者手机号"},model:{value:e.request_body.phone,callback:function(t){e.$set(e.request_body,"phone",t)},expression:"request_body.phone"}})],1),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入联系地址",type:"textarea"},model:{value:e.request_body.address,callback:function(t){e.$set(e.request_body,"address",t)},expression:"request_body.address"}})],1),r("el-form-item",{attrs:{label:"车品牌",prop:"carBrand"}},[r("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:""},model:{value:e.request_body.carBrand,callback:function(t){e.$set(e.request_body,"carBrand",t)},expression:"request_body.carBrand"}},e._l(e.carBrandMetaDataList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"车名称",prop:"carName"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入车名称"},model:{value:e.request_body.carName,callback:function(t){e.$set(e.request_body,"carName",t)},expression:"request_body.carName"}})],1),r("el-form-item",{attrs:{label:"车牌号",prop:"carNumber"}},[r("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:"",placeholder:"请输入车牌号"},model:{value:e.request_body.carNumber,callback:function(t){e.$set(e.request_body,"carNumber",t)},expression:"request_body.carNumber"}},e._l(e.carNumberList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{attrs:{label:"车架号",prop:"engineNumber"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入车架号"},model:{value:e.request_body.engineNumber,callback:function(t){e.$set(e.request_body,"engineNumber",t)},expression:"request_body.engineNumber"}})],1),r("el-form-item",[e.createStatus?r("el-button",{attrs:{type:"primary"},on:{click:e.addDriver}},[e._v("立即添加")]):e._e(),e.createStatus?e._e():r("el-button",{attrs:{type:"primary"},on:{click:e.updateDriver}},[e._v("立即保存")]),r("el-button",{on:{click:e.backHistory}},[e._v("返回")])],1)],1)],1)])},s=[],u=r("a2b9"),n=r("da26"),l=r("365f"),i={name:"AddDriver",data:function(){return{sexMetaDataType:"SEX_TYPE",carBrandMetaDataType:"CAR_BRAND_TYPE",sexMetaDataList:[],carBrandMetaDataList:[],carNumberList:[],createStatus:!0,form_rules:{userName:[{required:!0,message:"驾驶人姓名不能为空",trigger:"blur"}],sex:[{required:!0,message:"性别不能为空",trigger:"change"}],age:[{type:"number",message:"年龄必须为数字",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"change"}],carBrand:[{required:!0,message:"车品牌不能为空",trigger:"blur"}],carName:[{required:!0,message:"车名称不能为空",trigger:"change"}],carNumber:[{required:!0,message:"车牌号不能为空",trigger:"change"}]},request_body:{driverName:null,sex:null,age:null,phone:null,address:null,photo:null,carBrand:null,carName:null,carNumber:null,engineNumber:null}}},mounted:function(){var e=this,t=this.$route.query;t.carsRepairNumber&&(this.createStatus=!1,Object(n["d"])(t.carsRepairNumber).then((function(t){e.request_body=t.data}))),Object(u["a"])(this.sexMetaDataType).then((function(t){e.sexMetaDataList=t.data})),Object(u["a"])(this.carBrandMetaDataType).then((function(t){e.carBrandMetaDataList=t.data})),Object(l["f"])().then((function(t){e.carNumberList=t.data}))},methods:{updateDriver:function(){var e=this;this.$refs["driver_form"].validate((function(t){t&&Object(n["e"])(e.request_body).then((function(t){e.$router.push("/driver/allDrivers"),e.$notify({title:"成功",message:"更新成功",type:"success"})}))}))},addDriver:function(){var e=this;this.$refs["driver_form"].validate((function(t){t&&Object(n["a"])(e.request_body).then((function(t){var r=t.success;!0===r?(e.$router.push("/driver/allDrivers"),e.$notify({title:"成功",message:"创建成功",type:"success"})):e.$alert(e.message["data"],"创建失败",{confirmButtonText:"确定"})}))}))},backHistory:function(){this.$router.go(-1)}}},c=i,o=(r("f00d"),r("2877")),d=Object(o["a"])(c,a,s,!1,null,"1a446f3b",null);t["default"]=d.exports},a2b9:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("b775");function s(e){return Object(a["a"])({url:"/metadata/select/"+e,method:"get",params:e})}},da26:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return n})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return i}));var a=r("b775");function s(e){return Object(a["a"])({url:"/driver/addDriver",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/driver/deleteDriver/"+e,method:"get",params:e})}function n(e){return Object(a["a"])({url:"driver/updateDriver",method:"post",data:e})}function l(e){return Object(a["a"])({url:"driver/selectByCarsRepairNumber/"+e,method:"get",params:e})}function i(e){return Object(a["a"])({url:"driver/allDrivers",method:"get",params:e})}},f00d:function(e,t,r){"use strict";r("12d6")}}]);