(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d70193e"],{"06e2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create"},[r("div",{staticClass:"create-body"},[r("el-form",{ref:"member_form",staticClass:"demo-ruleForm",attrs:{"label-width":"200px",rules:e.form_rules,model:e.request_body}},[r("el-form-item",{attrs:{label:"会员名",prop:"memberName"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入会员名"},model:{value:e.request_body.memberName,callback:function(t){e.$set(e.request_body,"memberName",t)},expression:"request_body.memberName"}})],1),r("el-form-item",{attrs:{label:"会员性别",prop:"memberSex"}},[r("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:""},model:{value:e.request_body.memberSex,callback:function(t){e.$set(e.request_body,"memberSex",t)},expression:"request_body.memberSex"}},e._l(e.sexMetaDataList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入年龄"},model:{value:e.request_body.age,callback:function(t){e.$set(e.request_body,"age",e._n(t))},expression:"request_body.age"}})],1),r("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入电话或者手机号"},model:{value:e.request_body.phone,callback:function(t){e.$set(e.request_body,"phone",t)},expression:"request_body.phone"}})],1),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入联系地址",type:"textarea"},model:{value:e.request_body.address,callback:function(t){e.$set(e.request_body,"address",t)},expression:"request_body.address"}})],1),r("el-form-item",{attrs:{label:"充值金额",prop:"rechargeAmount"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入充值金额"},on:{input:e.remainAmount},model:{value:e.request_body.rechargeAmount,callback:function(t){e.$set(e.request_body,"rechargeAmount",t)},expression:"request_body.rechargeAmount"}})],1),r("el-form-item",{attrs:{label:"车品牌",prop:"carBrand"}},[r("el-select",{staticStyle:{width:"240px"},attrs:{filterable:"","allow-create":"",clearable:""},model:{value:e.request_body.carBrand,callback:function(t){e.$set(e.request_body,"carBrand",t)},expression:"request_body.carBrand"}},e._l(e.carBrandMetaDataList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"车名称",prop:"carName"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入车名称"},model:{value:e.request_body.carName,callback:function(t){e.$set(e.request_body,"carName",t)},expression:"request_body.carName"}})],1),r("el-form-item",{attrs:{label:"车牌号",prop:"carNumber"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入车牌号"},model:{value:e.request_body.carNumber,callback:function(t){e.$set(e.request_body,"carNumber",t)},expression:"request_body.carNumber"}})],1),r("el-form-item",{attrs:{label:"车架号",prop:"engineNumber"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入车架号"},model:{value:e.request_body.engineNumber,callback:function(t){e.$set(e.request_body,"engineNumber",t)},expression:"request_body.engineNumber"}})],1),r("el-form-item",[e.createStatus?r("el-button",{attrs:{type:"primary"},on:{click:e.addMember}},[e._v("立即添加")]):e._e(),e.createStatus?e._e():r("el-button",{attrs:{type:"primary"},on:{click:e.updateMember}},[e._v("立即保存")]),r("el-button",{on:{click:e.backHistory}},[e._v("返回")])],1)],1)],1)])},n=[],s=(r("ac1f"),r("00b4"),r("a2b9")),u=r("8194"),l={name:"AddMember",data:function(){var e=function(e,t,r){t.length>10?r(new Error("长度在 0 到 10 个字符")):setTimeout((function(){!/^\d+[.]?\d{0,2}$/.test(t)&&t?r(new Error("请输入正整数或小数保留两位小数")):r()}),500)};return{sexMetaDataType:"SEX_TYPE",carBrandMetaDataType:"CAR_BRAND_TYPE",sexMetaDataList:[],carBrandMetaDataList:[],createStatus:!0,form_rules:{memberName:[{required:!0,message:"姓名不能为空",trigger:"blur"}],memberSex:[{required:!0,message:"性别不能为空",trigger:"change"}],age:[{type:"number",message:"年龄必须为整数",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"change"}],rechargeAmount:[{validator:e,trigger:"change"}],carBrand:[{required:!0,message:"车品牌不能为空",trigger:"blur"}],carName:[{required:!0,message:"车名称不能为空",trigger:"change"}],carNumber:[{required:!0,message:"车牌号不能为空",trigger:"change"}]},request_body:{memberName:null,memberSex:null,age:null,phone:null,address:null,rechargeAmount:null,remainAmount:null,carBrand:null,carName:null,carNumber:null,engineNumber:null}}},mounted:function(){var e=this,t=this.$route.query;t.memberId&&(this.createStatus=!1,Object(u["e"])(t.memberId).then((function(t){e.request_body=t.data}))),Object(s["a"])(this.sexMetaDataType).then((function(t){e.sexMetaDataList=t.data})),Object(s["a"])(this.carBrandMetaDataType).then((function(t){e.carBrandMetaDataList=t.data}))},methods:{remainAmount:function(){this.request_body.remainAmount=this.request_body.rechargeAmount},updateMember:function(){var e=this;this.$refs["member_form"].validate((function(t){t&&Object(u["f"])(e.request_body).then((function(t){e.$router.push("/member/allMembers"),e.$notify({title:"成功",message:"更新成功",type:"success"})}))}))},addMember:function(){var e=this;this.$refs["member_form"].validate((function(t){t&&Object(u["a"])(e.request_body).then((function(t){var r=t.success;!0===r?(e.$router.push("/member/allMembers"),e.$notify({title:"成功",message:"创建成功",type:"success"})):e.$alert(e.message["data"],"创建失败",{confirmButtonText:"确定"})}))}))},backHistory:function(){this.$router.go(-1)}}},o=l,c=(r("dc37"),r("2877")),i=Object(c["a"])(o,a,n,!1,null,"3d4f320c",null);t["default"]=i.exports},"4c1d":function(e,t,r){},8194:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return c}));var a=r("b775");function n(e){return Object(a["a"])({url:"/member/addMember",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/member/deleteMember/"+e,method:"get",params:e})}function u(e){return Object(a["a"])({url:"member/updateMember",method:"post",data:e})}function l(e){return Object(a["a"])({url:"member/select/"+e,method:"get",params:e})}function o(){return Object(a["a"])({url:"member/selectCarNumbers",method:"get"})}function c(e){return Object(a["a"])({url:"member/allMember",method:"get",params:e})}},a2b9:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("b775");function n(e){return Object(a["a"])({url:"/metadata/select/"+e,method:"get",params:e})}},dc37:function(e,t,r){"use strict";r("4c1d")}}]);